# Copyright (c) 2021 by Michael Arsollon
# derived from original game at https://github.com/endless-sky/endless-sky
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.  See the GNU General Public License for more details.



# Contents: Creatures from beyond the galaxy.
# - ship stats
# - specialized outfits
# - missions


ship "Nova Firefly"
	noun "creature"
	sprite "ship/nova firefly"
	"never disabled"
	attributes
		"automaton" 1
		category "Interceptor"
		"hull" 3500
		"mass" 220
		"drag" 5.3
		"heat dissipation" .9
		"cargo space" 32
		"thrust" 22
		"turn" 500
		"hull repair rate" 2
		"heat protection" 6
		"hull protection" 1
		"burn protection" 3
		"energy protection" 1
		"energy capacity" 200
		"fuel capacity" 399
		"inscrutable" 1
		"gaslining" 1
		"jump drive" 1
		"jump speed" .2
		"ramscoop" 2
		"solar collection" 2
		weapon
			"blast radius" 200
			"shield damage" 2000
			"hull damage" 2000
			"hit force" 3000
	outfits
		Mouthparts? 1
		"Flare Belcher?" 1

	gun 0 -40 "Flare Belcher?"
	gun 0 -40 Mouthparts?
	leak "blood" 15 25
	explode "blood" 25
	"final explode" "final explosion large"
	description "An invasive species from beyond our galaxy. These creatures thrive in the super heated gasses of dissipating supernovas. Through an unknown process, they are able to produce a fiery burst of their own flames."


outfit "Flare Belcher?"
	category "Guns"
	thumbnail "outfit/unknown"
	"gun ports" -1
	"unplunderable" 1
	weapon
		sprite "effect/explosion/small"
			"frame rate" 60
			"no repeat"
		sound "flamethrower"
		"submunition" "Flamethrower Projectile"
		"inaccuracy" 12
		"velocity" 9
		"lifetime" 5
		"reload" 1
		"firing energy" .1
		"firing fuel" .1


ship "Egg Pouch"
	noun "creature"
	sprite "ship/nova egg pouch"
	"never disabled"
	attributes
		category "Transport"
		"automaton" 1
		"hull" 7000
		"mass" 180
		"drag" 9.3
		"heat dissipation" .1
		"energy capacity" 100
		"fuel capacity" 99
		"hull repair rate" 1
		"heat protection" 3
		"hull protection" 1
		"energy protection" 3
		"inscrutable" 1
		"ramscoop" 1
		"solar collection" 1
		weapon
			"blast radius" 200
			"shield damage" 2000
			"hull damage" 2000
			"hit force" 3000
	bay "Drone" 0 -31.5 
	bay "Drone" 0 -31.5 
	bay "Drone" 0 -31.5 
	leak "blood" 25 35
	explode "small explosion" 25
	explode "medium explosion" 35
	explode "large explosion" 45
	"final explode" "final explosion large"
	description "A fleshy pouch containing Nova Firefly eggs. The pouch protects and nourishes the eggs while they float through the void between galaxies."
	
ship "Firefly Young"
	noun "creature"
	sprite "ship/nova firefly young"
	"never disabled"
	attributes
		"automaton" 1
		category "Drone"
		"hull" 3000
		"mass" 180
		"drag" 3.3
		"heat dissipation" 1.2
		"cargo space" 20
		"thrust" 18
		"turn" 400
		"hull repair rate" 1
		"heat protection" 2
		"energy capacity" 20
		"inscrutable" 1
		"gaslining" 1
		"solar collection" .2
		"youngfirefly" 1
	outfits
		Mouthparts? 1
	gun 0 22 Mouthparts?
	leak "blood" 5 15
	explode "blood" 15
	"final explode" "blood"
	description "A freshly hatched Nova Firely. They have not yet developed their parent's territorial hostility or their ability to vomit bursts of flame."
	
fleet "Nova Firefly"
	government "Nova Firefly"
	cargo 0
	personality vindictive mining mute
	variant 1
		"Nova Firefly"
	variant 2
		"Nova Firefly" 2
	variant 3
		"Nova Firefly" 3

fleet "Nova Firefly Hatchery"
	government "Invasive Lifeform (Passive)"
	cargo 0
	personality waiting mining harvests mute
	variant 1
		"Egg Pouch" 1
		"Firefly Young" 4



mission "First Contact: Nova Fireflies"
	name "Explore New Systems"
	description "The Celestial Compass has highlighted an area of the map near the Limen system. Visit these new systems to see what is out there."
	landing
	source
		near "Limen" 1 10
	to offer
		has "celestial compass"
	on offer
		require "Celestial Compass"
		event "reveal Hazehai"
		conversation
			scene "outfit/celestial compass"
			`The Celestial Compass is highlighting an area of the map near the Limen system. Several hidden systems are waiting to be explored!`
				accept
		
	on enter Hazehai
		dialog `This system is all that remains of a star that went supernova long ago. Floating in the superheated gas are some bags of flesh that glow with an eerie light. Some creatures fly out of a bag's orifice and approach you...`
	on enter Ehmahai
		dialog `These creatures seem upset with your presence. Perhaps they are fiercely territorial.`
	on enter Heiahai
		dialog `These creatures seem upset with your presence. Perhaps they are fiercely territorial.`

	npc kill
		system Hazehai
		government "Invasive Lifeform (Passive)"
		personality waiting staying mining harvests mute
		fleet "Nova Firefly Hatchery" 5

	npc
		system Ehmahai
		government "Nova Firefly"
		personality waiting staying vindictive mining mute
		fleet "Nova Firefly"

	npc
		system Heiahai
		government "Nova Firefly"
		personality waiting staying vindictive mining mute
		fleet "Nova Firefly"

	on complete
		event "Nova Firefly Invasion" 7

event "reveal Hazehai"
	system Ehmahai
		remove hidden
		add fleet "Nova Firefly" 1000
	system Hazehai
		remove hidden
		add fleet "Nova Firefly Hatchery" 600
		add fleet "Nova Firefly" 4000
	system Heiahai
		remove hidden
		add fleet "Nova Firefly" 1000
	system Zubahai
		remove hidden

event "Nova Firefly Invasion"
	system Zubahai
		add fleet "Nova Firefly" 4000
	system Limen
		add fleet "Nova Firefly" 2000
	system Orbona
		add fleet "Nova Firefly" 4000
	system Terminus
		add fleet "Nova Firefly" 8000
	system Mora
		add fleet "Nova Firefly" 8000
	system Algieba
		add fleet "Nova Firefly" 12000
